@using Services
@rendermode InteractiveServer

<div class="top-row navbar navbar-expand navbar-dark bg-dark px-3">
    <div class="container-fluid">
        <a class="navbar-brand" href="#">UTS Frontend</a>

        <nav class="navbar-nav ms-auto">
            <div class="nav-item">
                <NavLink class="nav-link" href="/home" Match="NavLinkMatch.All">
                    <span class="bi bi-house-door-fill" aria-hidden="true"></span> Home
                </NavLink>
            </div>

            <div class="nav-item">
                <NavLink class="nav-link" href="/categories">
                    <span class="bi bi-folder-fill" aria-hidden="true"></span> Categories
                </NavLink>
            </div>

            <div class="nav-item">
                <NavLink class="nav-link" href="/courses">
                    <span class="bi bi-book-fill" aria-hidden="true"></span> Courses
                </NavLink>
            </div>

            <!-- New Nav Item for Enrollment -->
            <div class="nav-item">
                <NavLink class="nav-link" href="/enrollment">
                    <span class="bi bi-pencil-square" aria-hidden="true"></span> Enrollment
                </NavLink>
            </div>

            <div class="nav-item">
                <button class="btn btn-danger fs-5" @onclick="Logout">
                    <span class="bi bi-box-arrow-right me-2" aria-hidden="true"></span> Logout
                </button>
            </div>
        </nav>
    </div>
</div>

@code {
    [Inject]
    private NavigationManager Navigation { get; set; }

    [Inject]
    private TokenService TokenService { get; set; }

    private void Logout()
    {
        // Clear the token and navigate to login page
        TokenService.AuthToken = null;
        Navigation.NavigateTo("/login", true);
    }
}
